<div class="container">
    <h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
        </svg>
        Factures
    </h2>

    <div *ngIf="loading" class="loading">
        <div class="spinner"></div>
        <p>Chargement des factures...</p>
    </div>

    <div *ngIf="error" class="error">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        {{ error }}
    </div>

    <div *ngIf="!loading && !error" class="table-container">
        <table>
            <thead>
                <tr>
                    <th>ID Facture</th>
                    <th>Date de facturation</th>
                    <th>Client ID</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let bill of bills">
                    <td style="font-weight: 600;">#{{ bill.id }}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" style="color: #6b7280;">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            {{ bill.billingDate | date:'mediumDate' }}
                        </div>
                    </td>
                    <td>
                        <span class="badge badge-primary">Client #{{ bill.customerId }}</span>
                    </td>
                    <td>
                        <button
                            style="background: none; border: 1px solid #e5e7eb; padding: 0.25rem 0.75rem; border-radius: 0.375rem; cursor: pointer; font-size: 0.875rem; color: #4b5563; transition: all 0.2s;"
                            onmouseover="this.style.borderColor='#4f46e5'; this.style.color='#4f46e5'"
                            onmouseout="this.style.borderColor='#e5e7eb'; this.style.color='#4b5563'">
                            Détails
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="!loading && !error && bills.length === 0" class="no-data">
        Aucune facture trouvée
    </div>
</div>